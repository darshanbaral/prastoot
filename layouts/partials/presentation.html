{{ $scratch := newScratch }}
{{ $scratch.Delete "num" }}
{{ $scratch.Add "num" .num }}
{{ with .all.GetPage .name }}
{{ $num := $scratch.Get "num" }}
<section id="slide-{{ $num }}" class="slide-container">
  <div class="presentation-slide">
    <div class="slide-header bg-white rounded p-2">
      <h1 class="slide-title m-0">{{ .Title | markdownify }}</h1>
    </div>
    <div
      class="slide-content {{ if .Params.template}}{{ .Params.template}}{{ end }}"
    >
      {{ if .Params.template}}
      {{ partial (print "presentationContent/" .Params.template) . }}
      {{ else }}
      {{ partial "presentationContent/oneContent" . }}
      {{ end }}
    </div>
    <footer class="slide-footer">
      <span class="text-start" style="width: 15em;">
        <time>{{ .Site.Params.date }}</time> &middot;
        {{ .Site.Params.author }}
      </span>
      <div class="text-center" style="width: 15em;">
      {{ if .Params.next }}
        <span class="prev-next" onclick="goTo({{ sub $num 1 }})">
          <i class="bi bi-chevron-up"></i>
        </span>
        <span class="prev-next" onclick="goTo({{ add $num 1 }})">
          <i class="bi bi-chevron-down"></i>
        </span>
      {{ else }}
      <span class="prev-next" onclick="goTo({{ sub $num 1 }})">
        <i class="bi bi-chevron-up"></i>
      </span>
      <span class="text-secondary" style="font-size: 1.2em;">
        <i class="bi bi-chevron-down"></i>
      </span>
      {{ end }}
    </div>
      <div class="text-end" style="width: 15em;">
        <a href="#slide-{{ $num }}">#{{ $num }}</a>
      </div>
    </footer>
  </div>
</section>
{{ if .Params.next }}
{{ partial "presentation" (dict "name" .Params.next "num" (add $num 1) "all" .) }}
{{ end }}
{{ end }}
